Object.defineProperty(exports,"__esModule",{value:!0});var n="undefined"==typeof module&&self&&!self.module&&"undefined"!=typeof window&&"undefined"!=typeof document&&9===document.nodeType,e=function(n,...r){if(void 0===n&&(n={}),0===r.length)return n;var t,u=r.shift();return"function"==typeof u?e(u(n),...r):0===r.length?u:((n="number"==typeof(t=u)||!isNaN(Number(t))&&!isNaN(parseInt(t))?Array.from(n||[]):Object.assign({},n||{}))[u]=e(n[u],...r),n)},r=function(n,e,...t){if(0===t.length)return e;var u=t.shift();return"function"==typeof u?r(n,u(e,n),...t):void 0===e?r(n,e,...t):0===t.length?e[u]:r(n,e[u],...t)},t=function(...n){return function(e,r){return n.reduce((function(n,e){return e(n,r)}),e)}},u={},o={},i={},c=[{pending:{},succeeded:{},failed:{},ssr_cached:{}}],f=function(n,e){return o[n]=e},a=function(n){return function(r){return e(r,"pending",n,!1)}},d=function(n){return 1===n.length?n[0]:n},s=function(r,u){var o=u.async,c=u.handler,s=u.errorHandler;return f(r,function(n){return function(r){return e(r,"pending",n,!0)}}(r)),f(r+"_SUCCESS",t(a(r),function(n){return function(r){return e(r,"succeeded",n,!0)}}(r),c)),f(r+"_FAILURE",t(a(r),function(n){return function(r){return e(r,"failed",n,!0)}}(r),s||c)),f(r+"_SSR_CACHE",function(r){return function(t){return e(t,"ssr_cached",r,!n)}}(r)),function(...e){return function(t,u){if("string"==typeof o){if(!i[o])throw new Error("Named async method ["+o+"] has not been set by setNamedAsync");o=i[o]}var c=u();return n||t({type:r+"_SSR_CACHE"}),c.ssr_cached[r]&&n?t({type:r+"_SSR_CACHE"}):c.pending[r]?void 0:(t({type:r}),o(d(e),c,t).then((function(n){return t({type:r+"_SUCCESS",payload:n})}),(function(n){return t({type:r+"_FAILURE",error:n})})))}}},p=function(n){return n},y=function(n){return c.reduce((function(n,e){return Object.assign({},n,e)}),{})};exports.constants=u,exports.createAction=function(n,e){void 0===e&&(e={});var r=e.async,t=e.handler;void 0===t&&(t=p);var o=e.errorHandler;void 0===o&&(o=p);var i,a=e.initialState;return void 0===a&&(a={}),function(n){u[n]=n}(n),i=a,c.push(i),r?s(n,{async:r,handler:t,errorHandler:o}):(f(n,t),function(e,...r){var t=d(e&&e.hasOwnProperty("nativeEvent")?r:[e,...r]);return{type:n,payload:t}})},exports.createSelector=function(n,...e){return function(t){return r(t,"function"==typeof n?n(t,t):t[n],...e)}},exports.default=function(n,e){void 0===n&&(n=y()),void 0===e&&(e={});var r=e.type,t=e.payload,u=e.error;return n.pending&&n.succeeded&&n.failed||(n=Object.assign({},y(),n)),o.hasOwnProperty(r)?o[r](n,t,u):n},exports.setNamedAsync=function(n){return Object.entries(n).forEach((function(n){var e=n[0],r=n[1];return i[e]=r}))},exports.setState=e,exports.simpleHandler=function(...n){return function(r,t){return e(r,...n,t)}};
